(r-ci-github-actions)=
# التكامل المستمر مع إجراءات GitHub

سيمشي هذا القسم من خلال الإعداد الأساسي للتكامل المستمر (CI) باستخدام **إجراءات GitHub (GHA)**. ونظام التشغيل الآلي للمهام هو نظام متكامل تماما مع نظام GitHub. وبعبارة أخرى، فإن API هو الذي ينسق أي سير عمل مبني على أي حدث. على الرغم من وجود العديد من مقدمي خدمات CI، فإن GHA تجعل من الأسهل من أي وقت مضى إدماج CI في مستودعاتك. يوفر طريقة مرنة للتشغيل الآلي تقريبا لكل جانب من جوانب سير العمل في مشروعك. وفيما يلي بعض الأمثلة فقط على حالات استخدام إجراءات GitHub :

- الاختبار الآلي للبرمجيات
- توليد تقارير عن حالة أي تغييرات في المستودع
- الاستجابة لمشغلات سير العمل باستخدام التسميات والمشكلات والإشارات الخاصة والمزيد
- تشغيل مراجعات الرموز وطلبات السحب
- إدارة الفروع

إجراءات GitHub مدفوعة بالأحداث، مما يعني أنها تستجيب لأي حدث (أمثلة: طلب السحب (PR) تم إنشاؤه، مشكلة تم إنشاؤها) وتشغل إجراء (أمثلة: إضافة ملصق، تشغيل الاختبارات، فرع). أي مجموعة من هذه الإجراءات تسمى سير العمل. ويرد في الفرع التالي وصف أكثر تفصيلا لهذه المفردات ذات الصلة بنظام GitHub.

```{figure} ../../figures/github-actions.jpg
---
width: 700px
align: center
name: Github actions
alt: A diagram describing how GitHub action listen to an event (for example, `PR` created, issue created, PR merged) and then trigger a job which can be testing, sorting, labelling or deployment.
---
_طريق التوحيد_ التوضيحي لمشروع سكريبيريا. يستخدم بموجب ترخيص CC-BY 4.0. DOI: [10.5281/zenodo.3332807] (https://doi.org/10.5281/zenodo.3332807).
```
## المفردات ذات الصلة بالجيتهوب

### 1. تدفق العمل

**سير العمل** هو وحدة للتشغيل الآلي من البداية إلى النهاية. وهي تتألف من جميع الجوانب التي ينبغي أخذها في الاعتبار أثناء التشغيل الآلي، بما في ذلك ماهية الحدث الذي يمكن أن يؤدي إلى التشغيل الآلي. يمكن استخدام سير العمل لبناء أو اختبار أو إختبار أو إصدار أو نشر مشروع على GitHub. وهو يتألف من وظائف متعددة تتشكل من خطوات كما هو مبين في الرسم البياني العام أدناه.

```{figure} ../../figures/ci-01.png
---
الاسم: استمرارية التكامل-Nov20
البديل : مثال توضيحي لكيفية عمل التكامل المستمر مع العديد من الوظائف والإجراءات التي تعمل جنبا إلى جنب مع بعضها البعض للتغذية في مثال توضيحي للخطوات لإظهار الاندماج في الإصدار الرئيسي.
---
على اليسار: _طريق التودين_ التوضيحي لمشروع سكريبيريا. يستخدم بموجب ترخيص CC-BY 4.0. DOI: [10.5281/zenodo.3332807] (https://doi.org/10.5281/zenodo.3332807). على اليمين: عرض بياني لأهم المفاهيم في أعمال GitHub ، مكيف من [morioh.com](https://morioh.com/p/aadcfe6cac57).
```

### 2. وظيفة

يتم تعريف **وظيفة** كمجموعة من الخطوات المتتابعة التي يتم تشغيلها على نفس المشغل. ويمكن لتدفق العمل أن يخلق وظيفة واحدة أو عدة وظائف، ويمكن أن يدار إما بالتوازي (الافتراضي) أو بالتتابع.

### 3. خطوة

تمثل الخطوة **** مهمة فردية واحدة. يمكن أن تكون الخطوة إما إجراء أو وحدة أمر أخرى، مثل تشغيل سكريبت بايثون أو طباعة شيء ما إلى وحدة التحكم.

### 4. الإجراءات

**إجراء GitHub** هو جزء من التشغيل الآلي المكتوب بطريقة متوافقة مع سير العمل. يمكن كتابة الإجراءات بواسطة [GitHub](https://github.com/actions)، من قبل مجتمع المصدر المفتوح [](https://github.com/sdras/awesome-actions)، أو يمكنك كتابتها بنفسك!

## البدء مع عمل GitHub

تستخدم إجراءات GitHub بنية YAML وتخزينها في دليل يسمى `.github/workflow` في المستودع. يمكنك إما استخدام نموذج سير العمل أو إنشاء قالب خاص بك.


### 1- استخدام قالب إجراءات GitHub

إذا كنت ترغب في البدء مع أعمال GitHub ، يمكنك البدء بالنقر على علامة التبويب "الإجراءات" في المستودع حيث تريد إنشاء سير عمل، كما هو مبين أدناه. تحت علامة التبويب "الإجراءات"، ستجد تدفقات عمل CI، التي يمكن أن تساعد في نشر أو أتمتة بعض المهام في المستودع.

```{figure} ../../figures/gifs/start_ghactions.gif
---
العرض: 600px
محاذاة الوسط
إسم: قالب إجراء GitHub
بديل: غيف يعرض حيث يمكنك العثور على قالب إجراءات GitHub في مستودع Github الخاص بك.
---
```
يمكنك اختيار أي من سير العمل المبتدئ هذه وتخصيصها أكثر.  ويرد في فرع لاحق شرح لعناصر البناء في إطار سير العمل.


### 2 - استخدام القوالب الخاصة بالمكتبات.


قالب عمل Github ليس مجموعة البدء الوحيدة المتاحة؛ هناك قوالب خاصة بالمكتبات للغة المثيرة للاهتمام. على سبيل المثال، يمكنك استخدام الحزمة  {usethis} في R لإنشاء قالب لحزم R عن طريق تشغيل `usethis:use_github_action_check_standard()`. سيؤدي هذا إلى إنشاء إجراءات GitHub لتشغيل التحقق من CRAN بعد كل التزام أو طلب سحب. هذا كل ما عليك فعله!


### 3- استخدام تكوين المشاريع الأخرى كتمهيد

ويستخدم العديد من المكتبات المفتوحة المصدر والمشروعات التي تدار بشكل جيد إجراءات GitHub لمعلومات CI الخاصة بها. إلقاء نظرة على قوائم التحقق من طلبات سحب هذه المشاريع للحصول على الإلهام والأفكار؛ المتابعة عن طريق التحقق من ملفات تكوين CI. في معظم الحالات يسمح لهم الترخيص بنسخ الأجزاء التي تعمل لحالتك. وميزة هذا النهج هي استخدام بعض النهج التي تعمل بالفعل.

وعلى سبيل المثال:

- تدفق العمل عبر تورينج [لبناء كتاب طريق التوت ولتوفير معاينة لطلبات السحب](https://github.com/alan-turing-institute/the-turing-way/blob/main/.github/workflows/ci.yml)
- مصفوفة من الاختبارات على [3 أنظمة تشغيل وأصدارات بايثون متعددة لشبكة بايثون للحزمة X](https://github.com/networkx/networkx/blob/main/.github/workflows/test.yml)
- إعداد أكثر تعقيداً لاختبار [بناء في ظروف متعددة لرقم حزمة بايثون](https://github.com/numpy/numpy/blob/main/.github/workflows/build_test.yml)


في القسم التالي، سنشرح لبنات البناء لسير العمل.

<!-- (I'll explain each vocab separately using diagrams made with adobe illustrator) -->
