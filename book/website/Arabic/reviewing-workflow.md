(r-reviewing-workflow)=
# سير العمل النموذجي

*يتضمن هذا الفصل إشارة خاصة إلى Github*

```{figure} ../../figures/readable-code.jpg
---
الطول: 500px
الاسم: رمز القراءة
بديل: هذه الصورة تسلط الضوء على أهمية قابلية البرمجة للقراءة.
---
_طريق التوحيد_ التوضيحي لمشروع سكريبيريا. يستخدم بموجب ترخيص CC-BY 4.0. DOI: [10.5281/zenodo.3332807] (https://doi.org/10.5281/zenodo.3332807).
```

## الاستعراضات الرسمية مقابل غير الرسمية

لكي تعمل عملية المراجعة الرسمية بشكل فعال، من الضروري أن يستخدم المشروع {ref}`التحكم الجيد في الإصدار<rr-vcs>`. ومع ذلك، من الجدير بالذكر أن **جميع مراجعة التعليمات البرمجية قيمة جدا**، بما في ذلك النهج غير الرسمية أو المخصصة. والواقع أن هذا النوع من استعراض النظراء غير الرسمي "على مستوى النظراء" يمكن أن يشكل عنصراً أولياً رئيسياً حتى في خطوط الاستعراض ذات الطابع الرسمي الشديد، توفير الكثير من الإجهاد والجدل بمجرد بدء المرحلة الرسمية.

يركز هذا القسم على سير العمل النموذجي وراء عملية مراجعة رسمية، كما يتم تنفيذها عادة في [Github](https://github.com/). بيئات البرمجة الأخرى مثل [BitBucket](https://bitbucket.org/) أو [GitLab](https://about.gitlab.com/) يمكن أن تحتوي على آليات مماثلة من الناحية المفاهيمية ولكنها غير موضحة هنا.

## إعداد التعليمات البرمجية

قبل طلب المراجعة، تأكد من استيفاء جميع معايير الجودة الواضحة للمشروع الذي تسهم فيه. وهذا يعني التأكد من أنك قمت بالتحقق من قائمة المراجعة (أنظر {ref}`قائمة التحقق للمبرمج<rr-checklist-for-code-review>`).

يجب على المستعرض التحقق من هذه الأشياء (أنظر {ref}`قائمة التحقق للمبرمج<rr-checklist-for-code-review>`)، ولكن العيوب على هذه الجبهات ينبغي أن تكون من خلال الرقابة العرضية وليس من خلال الرقابة المنهجية.

## اقتراح تغييرات

In the GitHub system, the review is begun directly from and often accessed through the [pull request page](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request). وتحدث خطوة الاستعراض بين النقاط التي يعتقد فيها المبرمج أن مساهمتهم مكتملة، والتي تدمج فيها تلك المساهمة في رمز الجذع للمشروع، وبالتالي فهو يرتبط ارتباطاً وثيقاً بطلب سحب واحد.

في بيئة Github ، يمكن تكوين المشاريع لتتطلب ** مراجعة قبل أن يتم دمج طلب سحب معين. وحتى إذا لم يتم اختيار هذا الخيار، فلا يزال من الممكن (بل ومن الأفضل الممارسة) طلب مراجعة على طلب السحب المعلق يدوياً.

## إنشاء ومناقشة المراجعة

وفي هذه المرحلة، يمكن أن تبدأ عملية الاستعراض. في Github، يمكن للمراجع أن يقدم كلا من التعليقات العامة والتعليقات على سطر سطر، انظر [مراجعة كود GitHub](https://github.com/features/code-review). ويصبح كل تعليق موضوعا للتعليق الخاص به، مما يسمح بمناقشة كل مسألة على حدة حسب الاقتضاء. وينبغي أن يتيح هذا التفاعل التوصل إلى توافق في الآراء بشأن كل تعليق.

بمجرد الانتهاء من المراجعة، يمكنك مناقشة أي تعليقات ضرورية. ثم تقوم بإجراء التغييرات، وتسجل التغييرات التي أجريت مقابل التعليقات المناسبة. وأيضا، أنت تتأكد من أن المستعرض يعرف أنك قد عالجت المراجعة بشكل كامل.

وبمجرد أن تعتقد أن التغييرات قد اكتملت، تتحقق الجهة المستعرِضة من أنها تعالج بالفعل جميع التعليقات الأولية. ويتعامل معكم المستعرِض، حسب الحاجة، بصورة بناءة إذا اختلفوا بشأن بعض النقاط للتوصل إلى توافق في الآراء. وفي معظم الحالات، يكون لخبير الاستعراض رأي نهائي إذا تعذر التوصل إلى توافق في الآراء.

بمجرد إجراء تغييرات في المدونة بعد إعادة النظر، إجراء تحديثات نهائية للتعليقات حسب الحاجة لاستكمال سجل لما تم القيام به والمنطق الذي يقوم عليه.

## التواصل مع النتائج من خلال GitHub

في Github، يجب إضافة التعليقات في قسم `الملفات المتغير` ، حتى يمكن ربطها بسطر معين من التعليمات البرمجية، انظر [GitHub يستعرض التغييرات في طلبات السحب](https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/reviewing-changes-in-pull-requests). قم بالعديد من التعليقات الصغيرة بهذه الطريقة، بدلاً من الكرة الكبيرة من النص مع كل شيء فيه، بحيث يمكن الإبقاء على مسائل مختلفة منفصلة. ويشار إلى المسائل والوثائق القائمة، حيثما كان ذلك مناسبا.

إذا كنت تستعرض التعليمات البرمجية الموجودة بدلاً من التغييرات، فلا يزال من المفيد استخدام طلبات السحب. إذا وجدت مشكلة لها حل واضح، فيمكنك تقديم طلب سحب مع تصحيح بالطريقة المعتادة.

إذا لم يكن لديك إصلاح، يمكنك إضافة تعليق فارغ إلى السطر ذي الصلة. و أنشئ طلب سحب من ذلك كتصحيح. سيتم إضاءة السطر (الخطارات) ذات الصلة بعد ذلك في نظرة عامة لطلب السحب `الملفات تغير` ويمكنك إضافة تعليقاتك هناك. في هذه الحالة، إما أن طلب السحب لا يتم دمجه أبداً (لكن التعليقات تم معالجتها بطريقة أخرى). أو ليس على الإطلاق)، أو التعليقات الإضافية يعاد النظر فيها ويستعاض عنها بإصلاح متفق عليه.

في جميع الحالات، قم بتقديم العديد من طلبات السحب الصغيرة، وليس واحدة كبيرة، حيث أن دعم GitHub، لمراجعات الرموز محدود إلى حد ما. إن وضع الكثير من المشكلات في طلب سحب واحد يصبح بسرعة غير عملي.

## دمج التغييرات

وبمجرد اكتمال عملية الاستعراض، يوافق المستعرِض على التغييرات، ويمكن أن يحدث الدمج. وعادة ما يكون لدى المشاريع الفردية قواعد و/أو مبادئ توجيهية لتحديد ما إذا كان المبرمج أو المستعرض يضغط بالفعل على زر الدمج، لذا فحص. وفي كثير من الحالات، تجعل تدفقات عمل المشاريع من إكمال الاستعراض وإقراره من جانب المستعرِض شرطا مسبقا رسميا لإجراء الدمج. وتفاديا للشك، قد يكون اعتماد هذا المبدأ حتى بالنسبة للمشاريع الصغيرة أو غير الرسمية أمرا معقولا.
