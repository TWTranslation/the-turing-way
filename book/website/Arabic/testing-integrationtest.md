(r-testting-Types-Integrationtest)=
# اختبار التكامل

واختبار التكامل هو مستوى من اختبار البرمجيات حيث يتم الجمع بين فرادى الوحدات واختبارها كمجموعة. وفي حين أن اختبارات الوحدة تثبت صلاحية الشفرة بمعزل عن بعضها البعض، فإن اختبارات التكامل تكفل تعاون المكونات عند توصيل بعضها ببعض. والغرض من هذا المستوى من الاختبار هو كشف الأخطاء في التفاعل بين الوحدات المتكاملة.

فعلى سبيل المثال، ربما تعمل وحدة تقرأ في بعض البيانات وتمضي في اختبارات الوحدة، والوحدة التالية التي تنظف البيانات بمجرد قراءتها تعمل أيضا وتمضي في اختباراتها. ومع ذلك، قل أن الوحدة الأولى تنتج البيانات على أنها (time_data، درجة الحرارة، البيانات) ولكن الدالة التي تنظف البيانات تتوقع إدخال الاستمارة (درجة الحرارة_البيانات، time_data). ومن الواضح أن ذلك يمكن أن يؤدي إلى حدوث أخطاء. وفي حين أن الوحدات صحيحة هناك في حالة حدوث خطأ في إدماجها.

ومن الأمثلة على اختبار التكامل لهذه الحالة توفير ملف بيانات اختبارية؛ استخدام هذه الدوال لقراءتها وتنظيفها والتحقق من البيانات المنظفة الناتجة عن ذلك مقارنة بما هو متوقع. إذا كان هناك خطأ مثل هذا، فسيكون من غير المحتمل أن يتطابق ناتج البيانات المنظفة مع النتيجة المتوقعة. وسوف يثار خطأ.

واختبار الإدماج مهم بشكل خاص في المشاريع التعاونية التي يعمل فيها أشخاص مختلفون على أجزاء مختلفة من البرمجة. وإذا أكمل شخصان مختلفان وحدتين منفصلتين ثم احتاجا إلى إدماجهما، فإن مسائل الإدماج تكون أكثر احتمالا لأن أيا منهما لا يفهم المدونة الأخرى. مثال شهير على هذا هو قمر صناعي متعدد الملايين من الدولارات، [تحطم](https://en.wikipedia.org/wiki/Mars_Climate_Orbiter) لأن قطعة واحدة من الكود أُخرجت بيانات المسافة على الأقدام ، بينما افترضت بيانات أخرى بالأمتار. وهذا مثال آخر على مسألة التكامل.

وثمة نوع فرعي لاختبار التكامل هو اختبار تكامل النظام. ويختبر ذلك تكامل النظم والحزم وأي وصلات بينية مع المنظمات الخارجية (مثل التبادل الإلكتروني للبيانات، والإنترنت). وتبعاً لطبيعة اختبار تكامل نظام المشروع قد يكون قابلاً للتطبيق أو لا يمكن تطبيقه.

## نهج اختبار التكامل

وهناك عدة نُهج مختلفة لاختبار الإدماج. والانفجار الكبير هو نهج لاختبار التكامل حيث يتم تجميع جميع الوحدات أو معظمها معا واختبارها عند الذهاب إلى مكان واحد. ويتبع هذا النهج عندما يتلقى فريق الاختبار البرمجيات برمتها في مجموعتها. إذاً ما هو الفرق بين اختبار تكامل الانفجار الكبير واختبار النظام؟ حسناً، الأول يختبر فقط التفاعلات بين الوحدات بينما يختبر الثاني النظام بأكمله.

أعلى منخفض هو نهج لاختبار التكامل حيث يتم اختبار أقسام المستوى الأعلى من الكود (التي تحتوي على وحدات أصغر كثيراً) أولاً ويتم اختبار الوحدات ذات المستوى الأدنى خطوة بخطوة بعد ذلك. كذلك يمكن تقسيم التعليمات البرمجية إلى الخطوات الرئيسية ألف وباء وجيم، ويتضمن كل من هذه الخطوات خطوات لإتمامها، وقد تكون لهذه الخطوات خطوات فرعية مثل:

- أ
- ألف-1
  - ألف-1-1
  - ألف-1-2
- ألف-2
- ب
- باء-1
- باء-2
  - باء-2-1
  - باء- 2-2
  - باء-2-3
- باء-3

- ج
- ج-1
  - جيم-1-1
  - جيم-1-2
- جيم-2
  - جيم 2-1
  - جيم-2-2

إذاً في نهج أعلى إلى أسفل التكامل بين الأقسام في المستوى الأعلى (ألف)، ويتم اختبار الجسم باء وجيم ثم التكامل بين الأقسام على المستوى التالي (على سبيل المثال ألف - ألف). -> A.2) وما إلى ذلك. اختبار وحدات المستوى الأعلى عن طريق تشغيل جميع التعليمات البرمجية التي تحتوي عليها بما في ذلك تشغيل وحدات المستوى الأدنى يمكن أن يؤدي إلى اختبارات المستوى الأعلى بسبب الأخطاء في الوحدات ذات المستوى المنخفض. وهذا أمر غير مرغوب فيه للحيلولة دون تشغيل الأقسام ذات المستوى الأدنى، ولكن [نقاط الاختبار](#Use_test_doubles_stubs_mocking_where_appropriate) يجب أن تستخدم لمحاكاة المخرجات منها.

أما الجزء السفلي فهو نهج لاختبار التكامل حيث يتم اختبار التكامل بين أقسام المستوى السفلي أولاً وقسم المستوى الأعلى خطوة بخطوة بعد ذلك. ومرة أخرى، ينبغي استخدام أدوات الاختبار، في هذه الحالة، لمحاكاة المدخلات من الأقسام الأعلى مستوى.

Sandwich/Hybrid هو نهج لاختبار التكامل، وهو مزيج من نهج أعلى مستوى ونهج أعلى مستوى في الأسفل.

أي نهج يجب أن تستخدمه سيعتمد على أفضل طريقة تناسب طبيعة/بنية مشروعك.

## نصائح اختبار التكامل

- تأكد من أن لديك وثيقة تصميم تفاصيل مناسبة حيث يتم تعريف التفاعلات بين كل وحدة تعريفاً واضحاً. ومن الصعب أو المستحيل إجراء اختبار الإدماج بدون هذه المعلومات.
- تأكد من أن كل وحدة تم اختبارها وإصلاح أي أخطاء قبل البدء في اختبار التكامل. إذا كان هناك خطأ في الوحدات الفردية فإن اختبارات الدمج سوف تفشل بالتأكيد حتى إذا لم يكن هناك خطأ في كيفية دمجها.
- استخدام المحاكاة/المحاكاة عند الاقتضاء.
