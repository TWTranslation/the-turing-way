(rr-vcs-git-compare)=
# استرجاع ومقارنة الإصدارات

(rr-vcs-versions-reeving)=
## استرداد الإصدارات السابقة

لإلغاء الالتزام الأخير الخاص بك (العودة إلى الإصدار السابق)، قم بتشغيل الأمر التالي:
```
Git إرجاع HEAD
```

ينشئ هذا الأمر التزاما جديدا يعيد التغييرات التي أجريت في الإصدار الأخير. إذا كنت ترغب في استرداد نسخة من أسابيع أو أشهر مضت، ابدأ باستخدام سجل `git` للعثور على SHA من الإصدار الذي تريد استرداده. لإعادة تعيين كامل مشروعك إلى هذا الإصدار قم بتشغيل الأوامر التالية:

```
git الدفع SHA_of_the_version
```

إذا كنت تريد النسخة القديمة من ملف واحد وليس النسخة السابقة من المشروع بأكمله، يمكنك القيام بذلك باستخدام الأمر التالي:

 ```
 git الدفع SHA_of_the_version -- ملف_الاسم الخاص بك
 ```

(rr-vcs-versions-reeving-practice)=
### الممارسات الجيدة

يجب أن تكون الإلتزامات 'ذرية'، بمعنى أنه يجب أن تقوم **بأمر بسيط واحد ويجب أن تقوم به تماما**. فعلى سبيل المثال، يمكن أن يكون الالتزام "الذري" إضافة دالة جديدة أو إعادة تسمية متغير. إذا كان هناك الكثير من التغييرات المختلفة لمشروعك يتم الالتزام بها معا، قد يكون من الصعب استكشاف الأخطاء إذا ظهر أي خطأ في هذا الإصدار. وعلاوة على ذلك، فإن إلغاء الالتزام برمته قد يلغي عملا صالحا ومفيدا.

من الممارسات الجيدة **تحديد الملفات التي سيتم الالتزام بها**، أي، إضافة ملفات إلى منطقة التجهيز بالاسم (`git أضف ملفات_name`) بدلا من إضافة كل شيء (`git أضف.`). هذا يمنعك من تجميع التغييرات المختلفة معاً دون قصد. على سبيل المثال، إذا قمت بتغيير الملف ألف بينما كنت تعمل في المقام الأول على الملف باء، ربما كنت قد نسيت هذا عندما تذهب للالتزام. مع `git إضافة.`، سيتم جلب الملف A على متن الرحلة. إذا كان هناك العديد من التغييرات *غير المتصلة* التي لا ينبغي إضافتها معا في *ملف واحد* واحد، `git إضافة -p your_file_name` ستسمح لك باختيار التغييرات التي تريد إضافتها. مع ذلك، **أنت لست بحاجة بالضرورة إلى القيام بأفعال لكل ملف** عند العمل على ملفات متعددة، ولكن لمشكلة واحدة. على سبيل المثال، إذا أضفنا رقما إلى هذا الفصل هنا، اختارنا المرء أن يلفت انتباه شخص ما إلى ما يلي:

```{figure} ../../figures/flipped-taj-mahal.png
---
name: fclped-taj-mahal
البديل : صورة ملتقطة لتاج محل لأخذ انتباه القارئ.
---
قلب تاج محل
```

تم تغيير ملفين:

1. أولا، تم إضافة ملف الرقم في مستودع المشروع.
2. ثم يضاف سطر في هذا الملف يشير إلى الرقم، لذلك يتم عرضه.

إذاً هناك ملفان يتأثران، ولكن "إضافة رقم إلى فصل تحكم الإصدار" هو واحد, *وحدة عمل ذرية* ، لذلك لا بد من التزام واحد فقط.

أخيرا لا ترتكب أي شيء ينشأ من ملفات أخرى ترتكب في نسخة (ما لم يكن الأمر شيئا يستغرق ساعات لتجديده). الملفات التي تم إنشاؤها، مثل البرامج النصية قم باختلاف مستودعك وقد يحتوي على ميزات مثل الطوابع الزمنية التي يمكن أن تسبب تضارب مزعج في الملفات (أنظر {ref}`rr-vcs-git-دمج`). يمكنك توجيه Git بتجاهل بعض الملفات عن طريق إنشاء ملف يسمى `. المقاضاة` وضمّ أسماء الملف الذي لا تحتاج إلى تخزينه في مستودع Git الخاص بك. فعلى سبيل المثال، ينبغي تجاهل ملفات التكوين التي قد تتغير من البيئة إلى البيئة.

(rr-vcs-versions-comparing)=
## مقارنة الإصدارات

في نقطة ما، ستحتاج على الأرجح إلى / تريد مقارنة إصدارات مشروع ما، على سبيل المثال، لمعرفة ما هي النسخة المستخدمة لتوليد نتيجة معينة.

لمعالجة هذه المشكلة، استخدم الدالة `git diff` التي تأخذ مجموعتين من بيانات الإدخال وتخرج التغييرات بينهما.

`git diff` هي وظيفة متعددة الاستخدامات تعمل على مصادر بيانات Git مثل الالتزامات والفروع والملفات والمزيد. بشكل افتراضي، `git diff` سوف تظهر لك أي تغييرات غير ملتزمة منذ الالتزام الأخير. إذا كنت ترغب في مقارنة شيئين محددين فإن الجملة هي:

```
git يقطع شيء_شيء_ب
```

على سبيل المثال، إذا كنت ترغب في مقارنة كيف تغير الملف بين التزامين، استخدم `git log` للحصول على SHA من هذه الإلتزامات و تشغيل:

```
git تقطيع SHA_a:your_file_name SHA_b:your_file_name
```

أو إذا أردت مقارنة فرعين، فسيكون كالتالي:

```
git فصل الفرع_اسم other_branch
```

(rr-vcs-versions-comparing-practice)=
### الممارسات الجيدة

مع بعض الإلمام، `git هاتف` يصبح أداة قوية للغاية يمكنك استخدامها لتتبع ما هي الملفات التي تغيرت وما هي تلك التغييرات بالضبط. وهذا أمر مفيد للغاية لفك الأخطاء ومقارنة العمل الذي يقوم به أشخاص مختلفون. كن حذرا **لفهم ما يجري مقارنته بالضبط** وكلما أمكن، **فقط مقارنة الملفات ذات الصلة** لما تهتم به لتجنب كميات كبيرة من المعلومات الخارجية.
