(rr-compendia)=
# 研究简编a

## 前提条件：

| 前提条件：                                 | 重要性 | 注           |
| ------------------------------------- | --- | ----------- |
| {ref}`版本控制<rr-vcs>`             | 有帮助 | 可以用来版本简编    |
| {ref}`打开研究<rr-open>`            | 有帮助 | 组件是简编的一部分   |
| {ref}`可复现的环境<rr-renv>`          | 有帮助 | 可以用来使简编可复制。 |
| {ref}`Binder Hub<rr-binderhub>` | 有帮助 | 可以用来发布简编    |
| {ref}`Make<rr-make>`            | 有帮助 | 可以在简编中用于自动化 |

## Summary

研究简编是一个研究项目所有数字部分的集合，其中包括数据、代码、文本（议定书、报告、调查表、元数据）。 收藏的创建方式是直接复制所有结果 {cite:ps}`Nuest2017Compendia，Gentleman2007statistics`

本章具有许多先决条件，因为它将一个项目的所有数字组成部分合并成一个可复制的研究包。 这就是：可以以最少的技术知识编写一份研究简编。 主要目的是将一个项目的所有内容一起公布，因此将所有组成部分结合起来的基本文件夹结构就足够了。

```{figure} ../figures/research-compendium.jpg
---
高度：500px
名称：研究-简编
Alt：显示一个人教导一个大机器的图画，这个机器从多篇论文获取科学信息，并提供一个可读文件的输出。
---
_Ting Way_ 项目示意图由 Storeria 标明。 在 CC-BY 4.0 许可下使用。 DOI：[10.5281/zenodo.3332807](https://doi.org/10.5281/zenodo.3332807)。
```

## B. 动机。

一份研究摘要 [{term}`def<Research Compendia>`] 包含了您项目的所有元素。 允许他人复制您的作品，这应该是您的研究项目的最后产品。 出版你的研究论文和研究简编，使其他人能够获得你的投入， 测试您的分析，如果可以执行简编，则重新运行以评估由此产生的输出。 这不仅能给你的研究带来信任，而且能够让你更加引人注目。 其他人可能会以意想不到的方式使用您的研究。 下文讨论了其中一些内容(参见章节： {ref}`使用研究简编<rr-compendia-using>`)。

## 二. 背景

最基本的研究简编是一整套综合性文件，其中包括项目的所有组成部分。 这份简编可以下载并在当地运行，以重新创建已完成的工作。 或者它可以包含允许它在远程服务器上执行的元素。 可执行的研究简编旨在提供现有的所有构件，并说明用户如何执行所包含的代码，从而使科学出版物的计算部分可以复制。


### 研究简编的结构

在构建研究简编 {cite:ps}`Marwick2018简编` 时应铭记三项原则。

- 文件应该在常规文件夹结构中整理；
- 应明确区分数据、方法和产出。
- 应具体规定计算环境。

有了这些原则，就可能会有各种各样的简编。 让我们从最基本的版本开始。


#### 基本简编

遵循这三项原则的基本简编。 它将数据和方法分割成常规文件夹结构，并在指定文件中描述计算环境。 此外，任何简编都应以README 文件的形式有一个登陆页。

```text
Compendium/
* *. --data
circum. ---my_data.csv
*. *. --analysis
synthesis --my_script.R
*. --DESCRIPTION
--README.md
```

#### 可执行的简编

以下文件夹可视为可执行的研究简编。 它包含研究项目的所有数字部分（代码、数据、文本、数字）和关于如何获得结果的所有信息。 计算环境在 `Dockerfile`中描述， 文件依赖关系以及如何自动生成结果在 `Makefile` 中描述。 此外，我们还有 `个回归者。 d` 描述简编的内容和 `LICENSE` 文件，其中包含如何使用简编的信息。

```text
compendium/
├── CITATION
├── code
│   ├── analyse_data.R
│   └── clean_data.R
├── data_clean
│   └── data_clean.csv
├── data_raw
│   ├── datapackage.json
│   └── data_raw.csv
├── Dockerfile
├── figures
│   └── flow_chart.jpeg
├── LICENSE
├── Makefile
├── paper.Rmd
└── README.md
```

#### 分离方法、数据、输出

研究简编的原则规定，简编应明确区分方法、数据和产出。 以不同的措辞，这意味着我们应该区分三种类型的文件和文件夹：

- **只读**: 原始数据 (``data_raw\`), 元数据(``datapackage.json`,`CITATION)
- **人类生成的**: 代码 (`clean_data.R`, `analyse_data。`, paper (`paper.Rmd`), documents (`README.md`)
- **项目生成**: 干净数据 (``data_clean\`, 数字 (``figures\`), 其他输出

这里提到的例子并非详尽无遗，有些例子可能首先是“人生的”，而且在某个时候变成了“只读”(例如，人类可能生成数据元数据 `数据包)。 儿子`, 但一旦完成, 它可能会变成不可触碰的东西)。 换言之，文件夹是否包含这些类别中任何一个类别的文件，可能取决于项目的生命周期。


### 创建简编

如果您已经使用了这本书中的一些工具 - 例如版本控制，Makefiles， 和/或可再生产的环境 — — 你可能自然需要创建一个研究简编。 这是因为版本控制存储库可以是一个研究简编； Makefile 使它可以执行； 一个可复制的环境使它可以复制。 编写一份研究简编， 我们建议首先思考 *你的项目的组件是* 并相应地创建文件夹结构。 使用文件和文件夹的名称使他人更容易理解它们包含的内容。 一个好主意是在研究进程早期思考这个问题，并以一种心态开始你的项目，这种心态是，最终的产出是一份研究简编，而不仅仅是一份研究文件。


### 发布简编

出版研究简编有若干备选办法：

- 在 GitHub 或 GitLab 等版本化平台上(可能与绑定链接)。
- 关于Zenodo或开放科学框架等研究档案。
- 作为一份文件出版物的补充材料。

例如见标签/tag/community “research-compendium”（应用于GitHub 、Zenodo、OSF），或作为说明中的“研究简编”（应用于GitLab）。 欲了解更多信息，请参阅 [研究简编](https://research-compendium.science)。

今后，研究简编甚至可能是出版物本身，允许对整个研究项目进行同行审查。

(rr-compendia-using)=
### 使用简编

研究简编可以多种方式使用，包括（但不限于）：

- 同行评论：如果同行可以检查你做了什么，他们可以更彻底地审查它。
- 理解研究：如果你真的想要理解某人在他们的研究项目中做了些什么， 研究简编是你们需要研究的。
- 教学：研究简编可作为教学中使用的良好范例。
- 可再生性研究/再现：研究简编使其他研究人员能够尝试(并希望成功)重新计算您的计算方法。


## Checklist

为了编写一份研究简编，采取以下步骤：

- 想想出一个好的文件夹结构(见上面的示例)
- 创建文件夹结构(主目录和子目录)
- 可选：将简编变成一个git仓库
- 添加复制项目结果所需的所有文件
- 当您广告让他人使用简编时，试着让简编更加干净和易用。
- 可选：用户检查简编，查看其是否正常工作
- 发布您的简编

## 进一步阅读

- 网站 [《研究简编](https://research-compendium.science) 》载有关于研究简编的更多资料和出版物的链接以及与实例的链接。


<!---
> top 3/5 resources to read on this topic (if they weren't licensed so we could include them above already) at the top, maybe in their own box/in bold.
> less relevant/favourite resources in case someone wants to dig into this in detail
-->
