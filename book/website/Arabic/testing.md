(r-testing)=
# اختبار التعليمات البرمجية

| الشروط المسبقة                                                                     | الأهمية |
| ---------------------------------------------------------------------------------- | ------- |
| [الخبرة في سطر الأوامر](https://programminghistorian.org/en/lessons/intro-to-bash) | ضروري   |

## Summary

الكود المكتوب من الباحثين يشكل الآن جزءا من جزء كبير من البحوث، وإذا كانت هناك أخطاء في التعليمة البرمجية فإن النتائج قد تكون غير موثوقة جزئيا أو كليا. واختبار التعليمات البرمجية بصورة شاملة ومتكررة أمر حيوي لضمان إجراء بحوث موثوقة وقابلة للاستنساخ. ويقدم هذا الفصل توجيهات عامة لاختبارات الكتابة ويصف عدداً من أنواع الاختبارات المختلفة. واستخداماتها وكيفية تنفيذها لها.

```{figure}  ../figures/error-management.jpg
---
الاسم: إدارة الأخطاء
البديل: الشخص يقوم بالبرمجة بسعادة، ثم يرمي الخطأ ويتم الخلط بين المبرمج. ثم يمكن للمُبرمج العثور على الخطأ وإصلاحه.
---
_طريق التوحيد_ التوضيحي لمشروع سكريبيريا. يستخدم بموجب ترخيص CC-BY 4.0. DOI: [10.5281/zenodo.3332807] (https://doi.org/10.5281/zenodo.3332807).
```

## الدافع

من السهل جدا جدا ارتكاب الأخطاء عند البرمجة. حرف واحد في غير محله يمكن أن يتسبب في أن يكون ناتج البرنامج خاطئا تماما. وكان أحد الأمثلة المذكورة أعلاه ناتجا عن علامة زائدة كان ينبغي أن تكون ناقصة. وسبب آخر قطعة من التعليمات البرمجية تعمل بأمتار بينما كان قطعة من التعليمات البرمجية كتبها باحث آخر يعمل على الأقدام *كل شخص* يرتكب أخطاء، وفي البحث يمكن أن تكون النتائج كارثية. ويمكن إتلاف أو إنهاء الحياة الوظيفية، كما يمكن إهدار مبالغ ضخمة من أموال البحوث، كما يمكن ضياع وقت ثمين لاستكشاف سبل غير صحيحة. وهذا هو السبب في أن الاختبارات حيوية.

إليك بعض الرسوم التوضيحية التي توضح لماذا يجب أن تكون اختبارات الكتابة:

```{figure}  ../figures/testing-motivation1.png
---
الاسم: اختبار التحفيز1
البديل:
---
```

```{figure}  ../figures/testing-motivation2.png
---
الاسم: اختبار التحفيز-2
البديل:
---
```

وحتى إذا تم الوقوف على مشاكل في برنامج ما قبل نشر البحوث، فإنه قد يكون من الصعب معرفة النتائج الملوثة ويجب إعادة تحقيقها. وهذا يمثل ضياعا هائلا للوقت والجهد. والتعامل مع هذه المشاكل في أقرب وقت ممكن يقلل إلى أدنى حد ممكن من حجم العمل الذي يستغرقه إصلاحها. وبالنسبة لمعظم الباحثين فإن الوقت هو إلى حد بعيد أكثر مواردهم شحا. لا يجب عليك تخطي اختبارات الكتابة لأنك قصير في الوقت المحدد، يجب عليك كتابة الاختبارات *لأنك* قصير في الوقت المحدد. والباحثون لا يستطيعون تحمل تكاليف شهور أو سنوات من العمل ينزحون إلى النزوح، وهم لا يستطيعون تحمل تكاليف التحقق يدويا من كل التفاصيل الصغيرة من البرنامج الذي قد يكون مئات أو مئات الآلاف من الخطوط الطويلة. كتابة اختبارات للقيام بها من أجلك هو خيار توفير الوقت، وهو الخيار الآمن.

عندما يكتب الباحثون التعليمات البرمجية فإنهم يجرون عادة بعض الاختبارات أثناء سير عملهم، وذلك في كثير من الأحيان بإضافة بيانات مطبوعة والتحقق من الناتج. غير أن هذه الاختبارات كثيرا ما تُلغى بمجرد اجتيازها، ولم تعد موجودة للتحقق مما كان يقصد بها التحقق منه. وليس هناك عمل يذكر نسبيا لوضع هذه الاختبارات في الوظائف والإبقاء عليها حتى يمكن إجراؤها في أي وقت في المستقبل. والعمل الإضافي ضئيل، والوقت الذي تم توفيره والضمانات المقدمة لا تقدر بثمن. وعلاوة على ذلك، بإضفاء الطابع الرسمي على عملية الاختبار في مجموعة من الاختبارات التي يمكن إجراؤها بصورة مستقلة وآلية، توفر درجة أكبر من الثقة بأن البرنامج يتصرف بشكل صحيح ويزيد من احتمال العثور على العيوب.

كما أن الاختبار يوفر للباحثين قدرا أكبر من السلام الذهني عند العمل في مشروع أو تحسينه. بعد تغيير التعليمات البرمجية للباحث، سوف يرغب الباحث في التحقق من أن التغييرات أو الإصلاحات التي قام بها لم تخرج عن أي شيء. ويتيح تزويد الباحثين ببيئة الفشل السريع التعرف السريع على حالات الفشل الناجمة عن التغييرات المدخلة على الشفرة. الخيار البديل، من الباحث الذي يكتب ويدير أي اختبارات صغيرة لديه وقت أقل بكثير من مجموعة الاختبارات الجيدة التي يمكنها التحقق من الشفرة بشكل كامل.

فائدة أخرى من اختبارات الكتابة هي أنها تجبر الباحث عادة على الكتابة بطريقة أنظف، المزيد من التعليمات البرمجية المعدنية مثل هذه التعليمات البرمجية أسهل بكتابة الاختبارات الخاصة بها، مما يؤدي إلى تحسين جودة التعليمات البرمجية.
{ref}`رمز جيد الجودة<rr-code-quality>` أسهل بكثير (وأكثر من ذلك تماما) للعمل مع أعشاش الجرعات المتداخلة من البرمجة، أنا متأكد من أننا جميعا قد وصلنا (و دعونا نكون صادقين وكتابة). تم التوسع في هذه النقطة في القسم {ref}`وحدة اختبار rr-test-unittest`.

## باء - مزايا اختبار البحث

وبالإضافة إلى إفادة فرادى الباحثين من الاختبارات فإنها تفيد أيضاً البحوث ككل. إنه يجعل البحث أكثر قابلية للتكرار بالإجابة على السؤال "كيف نعرف حتى أن هذه التعليمات البرمجية تعمل". إذا لم يتم حفظ الاختبارات، فقط تم وحذف الدليل لا يمكن استنساخه بسهولة.

ويساعد الاختبار أيضا على الحيلولة دون إنفاق أموال المنح القيّمة على المشاريع التي قد تكون معيبة جزئيا أو كليا بسبب الأخطاء في الشفرة. والأسوأ من ذلك أنه إذا لم يتم العثور على أخطاء وتم نشر العمل، فإن أي عمل لاحق يستند إلى المشروع سيكون معيبا بالمثل.

ربما يمكن العثور على أنظف تعبير عن سبب أهمية الاختبار للبحوث ككل في [شعار معهد استدامة البرمجيات](https://www.software.ac.uk/) : برنامج أفضل، بحوث أفضل.
