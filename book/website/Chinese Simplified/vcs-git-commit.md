(rr-vcs-git-commit)=
# `git 提交` 命令

每次你“添加”更改(新的文件或已有的文件与一些更改)和“提交”您的Git仓库中的更改， 您创建一个您的项目版本，它存储在您的项目历史记录中，并且可以随时访问。

以一个版本中所作更改的含义说明来提交更改， 使用 `git 提交` 并使用 `-m` (m对于消息) 标记：

```
git 提交 -m “关于此处更改的有用说明”
```

您可以看到您以前提交的日志使用

```
git 日志
```

在您的终端的日志报告中， 你会看到每个版本都会自动标记一个唯一的数字和字母字符串，叫做SHA。 您可以通过使用相应的SHA识别、访问和比较不同的版本。 这里是在Git日志中的一个承诺示例： SHA在第一行，除了这个SHA。 日志还包含关于变更的日期、时间和作者以及提交消息的信息("小打字")。

```
提交 0346c937d0c451f6c622c5800a46f9e9e1c2b035
作者：Malvika Sharan <some@email.com>
日期：Wed May 6 18:22:40 20+0100

    次要类型修复

```

(rr-vcs-commit-messages)=
## 提交消息中的更多信息

在您执行您的项目时，您将做更多的提交。 没有任何其他信息，就很难记住你的项目的哪个版本是在 Efech。 如果你不能理解他们，存储过去的版本是无用的。 并通过检查守则来说明它们所包含的内容令人沮丧，需要宝贵的时间。

当您提交时，您有机会写一个提交消息，描述您的提交是什么以及它做了什么， 并且你应该总是这样, *总是,* **_总是_** 这样做。 提交消息会被附加到提交中，所以如果你回来看看它(例如) 通过 `git 日志`), 它将显示。 创建具有洞察力和描述性的提交消息是您能够做的最好事情之一，以使版本控制失效。 它让人们（以及你的未来在你早就忘记了你正在做什么和为什么时）很快地理解一项承诺包含什么更新内容，而不必仔细阅读代码和浪费时间去找它。 良好的提交消息通过大幅减少人们对为什么要做某些更改的错误假设来提高您的代码质量。

当您通过 `git 提交` 时，不使用 `-m` 或 `--message` 选项， 字段显示(在终端内或在文本编辑器中)，可以写入提交消息。 您可以写一个有意义的语句并保存(如果通过文本编辑器写下消息，请关闭)。 您可以通过运行像这样的语句来将您喜欢的编辑器设置为默认值：

```
git config --global core.editor "your_opered_editor"
```

为了避免在编辑器中写入此提交消息， 你可以使用前面讨论过的命令 `git commit -m "你在这里的消息"`。

(rr-vcs-commit-messages-practice)=
### 良好做法

数字一规则是： **使其有意义**。 像“修复bug”这样的提交消息让人完全了解这意味着什么(再次)。 这个人很可能在今后几个月里成为你，因为你们忘记了你们当时的所作所为）。 这最终会浪费您或其他人的时间去找出错误的原因。 实际发生了什么变化，错误是如何修复的。 因此，一个好的提交消息应该 *解释你做了什么，为什么做了，以及什么会受到更改* 的影响。 和评论一样，你应该描述代码是什么，而不是代码本身。 例如，“将N_sim改为10”实际上做了些什么并不明显， 但“将程序运行的模拟次数更改为10”是清楚的。

**概括您的承诺包含的更改**。 这应该写在第一行(最多50个字符), 然后在继续描述或正文之前留下空白行。 第一行是在你使用命令时作为摘要出现的简化版本：

```
git 日志
```

这使得迅速搜寻大量承诺更加容易。 在这些消息中使用 **也是一种很好的做法。** 使用当前必须的紧张状态。 例如，使用“添加测试”而不是“我添加测试”或“添加测试”。

下面是一个提交消息结构的良好示例：

```
短(50个字符)。 or less) summary of changes

More detailed explanatory text, if necessary. 把它包裹到
大约72个字符。 在某些情况下，前
行被视为电子邮件的主题，其余的
文本作为正文处理。 将
摘要与物体分开的空白行是很重要的(除非您完全省略了实体
)； 如果您同时运行
重置等工具可能会造成混乱。

更多段落在空白行之后出现。

  - 子点可以用来制造子弹，也可以用

  - 通常情况下，子弹是用连字符或星号。
    之前有一个空格, 空白行在
    之间, 但在此处的约定有差异
```
(rr-vcs-commit-summary)=
## Git 提交：摘要

在您的项目开发过程中，在包含描述性和清晰的提交信息的有意义的单位中承诺您的更改， 您可以创建一个易于理解的历史。 这将有助于您和其他人了解您工作的进展情况。 此外，下一节将表明， 这也将使我们更容易查看您过去的历史版本或还原您所做的更改。
