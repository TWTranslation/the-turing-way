(rr-checklist-for-code-review)=
# コードレビュープロセスのチェックリスト

このセクションでは、正式なレビュープロセスの一環として、コーダーとレビュアーの両方のためのいくつかのチェックリストを示します。 査読者のチェックリストは、プログラム全体に対して1つ、個々のファイルまたは提案された変更に対して1つの2つのカテゴリに分かれています。

リストは良いソフトウェアエンジニアリングの練習に焦点を当てて作成され、インスピレーションの源となることを意図しています。 チェックリストを評価する際には、その項目がどの程度実装されているかを検討することを推奨します。 リスト上のいくつかの項目は、プロジェクトやプログラミング言語に適用されない場合があり、その場合は無視されるべきです。

どのような場合でも、プログラミング体験を使ってコードをより良くする方法を見つけることが目標です。

## コーダー用

- 新しいコードはプロジェクトの要求される標準を満たしていますか? 標準規格は通常、あなたが貢献しているプロジェクトによって `貢献ガイドライン` の下に記載されています。
- プロジェクトの要求される標準を満たす [ドキュメント](#documentation) はありますか?
- {ref}`スタイルガイド<rr-code-quality>` のプロジェクトをフォローしていますか？
- プロジェクトの要求される標準に基づいて、新しい材料の新しい [テスト](#tests) がありますか?
  - これらのテストはローカルに合格しますか?
  - 残りのコードベースのテストはまだローカルで通過していますか?
- プルリクエストを作成する。
- {ref}`継続的統合 (CI)<rr-ci>` システムの多くは、プルリクエストを作成すると、メインプロジェクト内のテストが自動的に合格するかどうかをチェックします。 リポジトリがCIを使用している場合は、すべてのビルドとテストが完了していることを確認してください。 CIレポートを参照して、メインプロジェクトでテストが失敗する原因となっているかどうかを確認してください。
- 必要であれば、今すぐ正式にレビューを要求します。

## レビュアー用

- プロジェクトの必要な標準を確認してください。 標準規格は通常、あなたが貢献しているプロジェクトによって `貢献ガイドライン` に記載されています。
- Check the code meets basic project {ref}`style guide<rr-code-quality>`, if this is not automatically checked by {ref}`continuous integration (CI)<rr-ci>`.
- [tests](#tests) と [documentation](#documentation) は標準に準拠していますか?
- すべてのコードは簡単に理解できますか? 言語に応じて、ファイルにはインターフェイス、クラスまたはその他の型定義、および関数が含まれる場合があります ( [アーキテクチャ](#architecture) を参照)。 本質的な建築概念は以下のように見直すことができます:
  - [インターフェース](#interfaces) リストを確認してください。
  - [クラスと型](#classes-and-types) リストを確認します。
  - [function/method 宣言](#function-method-declarations) リストを確認します。
  - [関数/メソッド定義](#function-method-definitions) リストを確認します。
- [テスト](#tests) は実際に意図した用途でコードが堅牢であることを保証するのか?
  - バグやその他の欠陥はありますか?
- [セキュリティ](#security) の問題は正しく処理されていますか?
  - [新しいコードのセキュリティ](#security-of-new-codes) を確認してください。
- 新しいコードは [法的要件](#legal)を満たしていますか？

## プログラムレベルのチェック リスト

プログラム全体を見るときに考慮すべき事項のリストは次のとおりです。 個々のファイルを見たり変更したりするのではなく。

### ドキュメント

ドキュメントは、プログラムを使用、開発、および見直すための前提条件です。 あなたのプロジェクトに参加していない誰かがあなたのコードが何をしているか、 そしてあなたがどのようなアプローチをとっているかを理解する必要があります。 ここではチェックすることがいくつかあります。

- プログラムまたは図書館の目的についての説明はありますか?
- 詳細な要件が記載されていますか?
- 要件は [MoSCoW](https://en.wikipedia.org/wiki/MoSCoW_method) に従ってランク付けされていますか?
- サードパーティのライブラリの使用と機能は文書化されていますか?
- プログラムの構造/アーキテクチャは文書化されていますか? (以下を参照)
- インストールマニュアルはありますか?
- ユーザーマニュアルはありますか?
- 貢献する方法に関するドキュメントはありますか?
  - 変更を送信する方法を含む
  - 変更を文書化する方法

### 建築

これらの項目は、より大きなプログラムにとって主に重要ですが、小さいプログラムについても考慮すべき かもしれません。

- プログラムは明確に分離されたモジュールに分割されていますか?
- これらのモジュールはできるだけ小さいですか?
- これらのモジュールの間に明確な、階層的、または層的な依存関係構造があるか?
  - そうでない場合は、機能を再配置するか、あるいはおそらく大きく 相互依存するモジュールを組み合わせる必要があります。
- デザインを簡素化することはできますか?

### セキュリティ

外部からアクセス可能なソフトウェア(例えばウェブ アプリケーション)を作っている場合、セキュリティが重要になります。 セキュリティ問題は であるが、すべての欠陥がセキュリティ問題であるわけではない。 セキュリティに配慮した設計は、 欠陥のセキュリティへの影響を軽減するのに役立ちます。

- ユーザー入力を扱うモジュールは？
- 出力を生成するモジュールは？
- 入力と出力は区切られていますか?
  - そうでない場合は、すべての入力 と出力を管理する別々のモジュールを作成することを検討してください。
- 信頼できないデータが存在するモジュールは？
  - 少ない方が良いです。
- 信頼できないデータが区切られていますか?
  - 理想的には、入力モジュールで検証し、 検証されたデータのみを他の部品に渡すことです。

### Legal

開発者として、あなたが使用しているコードの クリエイターの法的権利に注意を払う必要があります。 いくつかチェックすることがあります。 疑問に思ったら、ライセンスの経験者にアドバイスを求めてください。

- 使用されているすべてのモジュール/ライブラリのライセンスは文書化されていますか?
- これらのライセンスによって設定された要件は満たされていますか?
  - ライセンスは必要な場所に含まれていますか?
  - 著作権表記は必要なコードに含まれていますか?
  - 必要とされる文書には著作権表記が含まれていますか?
- すべての部品のライセンスは互いに互換性がありますか?
- プロジェクトライセンスはすべてのライブラリと互換性がありますか?

## ファイル/変更レベルのチェック リスト

プルリクエスト内の個々の変更やファイルをチェックする場合、 コード自体が精査の対象となります。 言語に応じて、ファイル にはインターフェイス、クラス、その他の型定義、および関数が含まれている場合があります。 これらすべての をチェックする必要があります。

### インターフェイス

- インターフェイスは文書化されていますか?
- モデルという概念は意味をなすのでしょうか？
- それはさらに分割することができますか? (インターフェイスは可能な限り小さくする必要があります)

以下のほとんどの項目はオブジェクト指向プログラミング スタイルを想定していることに注意してください。これは見ているコードとは関係がないかもしれません。

### クラスとタイプ

- クラスは文書化されていますか。
  - 外部プログラムはクラスで文書化が必要ですか?
- それは単一の責任がありますか? それは分割できますか?
- 拡張するように設計されている場合、それは可能でしょうか?
- 拡張するように設計されていない場合、それはそれに対して保護されていますか?
- それが別のクラスから派生した場合、このクラスのオブジェクトを親クラス(es)のいずれかに置き換えることができますか?
- クラスはテスト可能ですか？
  - 依存関係は明確で明示的ですか?
  - 依存関係が少ないのでしょうか?
  - クラスではなくインターフェイスに依存しているのでしょうか？

### 関数/メソッド宣言

- 関数やメソッドの意図を説明するコメントはありますか?
- 入力と出力は文書化されていますか? 単位を含みますか？
- 前および後条件は文書化されているか。
- エッジケースと珍しいことはコメントされますか?

### 関数/メソッド定義

- エッジケースと珍しいことはコメントされますか?
- 不完全なコードはありますか？
- この関数は分割される可能性があります(長すぎないでしょうか)。
- 動作しますか？ 意図した関数を実行します。論理的に正しい...
- 理解しやすいでしょうか？
- 冗長コードまたは重複コードはありますか? (DRY)
- ループには長さが設定されていて、正しく終了するか？
- デバッグやロギングコードを削除できますか?
- いずれかのコードをライブラリ関数に置き換えることはできますか?

### 新しいコードのセキュリティ

- ライブラリを使用している場合は、エラーが返されるか確認しますか?
- すべてのデータ入力はチェックされていますか?
- 出力値は正しくチェックされ、エンコードされますか?
- 無効なパラメータは正しく処理されますか？

### テスト

- ユニットテストは実際に彼らが何をすると思われるかテストするか。
- 境界がなされているかチェックしているか?
- テストフレームワークやライブラリは使用されていますか?
