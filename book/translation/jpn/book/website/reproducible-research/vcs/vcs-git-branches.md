(rr-vcs-git-branches)=
# Git ブランチ

プロジェクトを個別または共同で作業する場合、以下のシナリオが発生することがあります。

- プロジェクトに新しい機能を追加すると、テスト中に作業コードが誤って破損するリスクが発生します。 これにより、アクティブなユーザーだけがあなたであっても、プロジェクトのアクティブなユーザーに予期しない問題が発生します。
- 他の人とコラボレーションし、誰もが本部で同時に作業すると、多くの混乱と矛盾する変化が生じる可能性があります。
- 一部のコード/機能は皆にとって興味深いものではないかもしれません。 すでに行われている作業を保護しながら、プロジェクトで新しい作業を行うことを可能にする方法があるかもしれません。

Git ブランチは、これらの問題のいずれかに対処する際に非常に価値があります。 Gitプロジェクトごとにデフォルトでは、すべてのコミットが記録される「main」と呼ばれる1つのブランチがあります。 Gitのブランチ機能により、すぐにメインブランチに統合せずに作業し続けることができるプロジェクトのコピーを作成することができます。 一方、他のブランチで行われた変更によって影響を受けないメインブランチにコミットを続けることができます。 ブランチで作業していたものは何でも満足したら。 メインブランチ(または他のブランチ)にマージできます。 マージは {ref}`rr-vcs-git-merge` サブ章でカバーされます。

問題が解決しないブランチで機能をテストする場合は、それを削除または放棄することができます (例えば、 メインブランチですべての作業を行っていた場合、変更を解除する時間を費やすのではなく、下図のBをご覧ください。 必要な数のブランチ(Feature A-1など)を持つことができます。

ブランチを使用すると、特にコラボレーションでは、コードが安全に動作します。 各貢献者は、準備が整ったらメインプロジェクトにのみマージされる独自のブランチまたはブランチを持つことができます。

```{figure} ../../figures/sub-branch.png
---
name: sub-branch
alt: Gitで分岐する図。 main、Feature A、Feature B、Feature A-1の4つのブランチがあります。 Feature AとBはメインブランチ、Feature A-1はFeature Aから作られたブランチです。
---
Git でのブランチのイラストです。
```

ブランチを作成し、次のように切り替えることができます。
```
git checkout -b name_of_your_new_branch
```

ブランチ間で変更するには、次のコマンドを使用します。
```
git checkout name_of_the_branch
```

他のブランチに切り替える前に、進行中の作業をコミットする必要があります。

プロジェクトのすべてのブランチを使用して確認できます。

```
git ブランチ
```
これにより、現在のブランチの隣にアスタリスクが付いたリストとして出力されます。 `git status` を使用することもできます。

ブランチを削除することにした場合は、以下のように削除できます:

```
git ブランチ -D name_of_the_branch
```
(rr-vcs-branches-practice)=
## 良い練習

ブランチは **メインブランチをきれいに保つ**に使用する必要があります。 つまり、メインは、完全でテストされ、かつ正当なものがプロジェクトのメインバージョンに属する作業だけを含める必要があります。 同様に、 **ブランチごとに新しい機能を1つ追加するだけで、個々のブランチを可能な限りきれいに保つようにする必要があります**。 これは、いくつかの機能に取り組んでいる場合に発生します。 開発中のものもありますが主に統合する準備が整っています ブランチをきれいに保つことは、フィーチャーのブランチ上のフィーチャーに関連する変更を行うことのみを意味します。 あなたのブランチを与えなさい **賢明な名前**、 "new_feature" は、別のブランチで新しい機能を開発し始めるまで、すべて順調で良いです。

## インタラクティブなチュートリアル

[Git Branching を学ぶ](https://learngitbranching.js.org/) は、Git を学ぶインタラクティブな方法を提供するプロジェクトです。 チュートリアルを通して を行うことは、最も一般的に使用される git コマンドと分岐操作技術の実質的な経験を提供します。
